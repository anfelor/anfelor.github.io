name: blog
author: Anton Felix Lorenzen
license: MIT
github: anfelor/blog
category: Web

flags:
  production:
    default: false
    manual: true

when:
  - condition: flag(production)
    then:
      ghc-options: -O2 -Werror
    else:
      ghc-options: -O0 -dynamic

ghc-options: -Wall -Wno-missing-signatures -Wno-unused-do-bind -optl-fuse-ld=gold
ld-options:  -fuse-ld=gold

default-extensions:
  - DeriveFunctor
  - NoImplicitPrelude
  - OverloadedLists
  - OverloadedStrings
  - QuasiQuotes
  - RecordWildCards
  - TemplateHaskell
  - GeneralizedNewtypeDeriving 

dependencies:
  - base >= 4.7 && < 5
  - blaze-html
  - blaze-markup
  - bytestring
  - containers
  - directory
  - filepath
  - hashable
  - mtl
  - pandoc
  - pandoc-types
  - process
  - protolude
  - split
  - template-haskell
  - text
  - time
  - unordered-containers

executables:
  blog:
    main: Main.hs
    source-dirs: src
